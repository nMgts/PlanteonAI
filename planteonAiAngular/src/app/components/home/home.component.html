<div class="home-container">
  <div class="main-content">
    <div class="chat-box">

      <!-- Nagłówek tylko, gdy nie ma wiadomości -->
      <h2 class="chat-header" *ngIf="messages.length === 0">
        W czym mogę Ci pomóc?
      </h2>

      <!-- Lista wiadomości -->
      <div class="messages-container" *ngIf="messages.length > 0">
        <div
          *ngFor="let msg of messages"
          [ngClass]="msg.sender === 'user' ? 'message user-message' : 'message bot-message'">
          {{ msg.text }}
        </div>
      </div>

      <!-- Panel na dole lub na środku -->
      <div class="chat-panel" [ngClass]="{ 'at-bottom': messages.length > 0 }">
        <textarea
          #textareaRef
          [(ngModel)]="newMessage"
          class="chat-textarea"
          placeholder="Napisz wiadomość..."
          (ngModelChange)="onInputChange()">
        </textarea>

        <div class="chat-toolbar">
          <button class="icon-button" title="Dodaj">
            <i class="material-icons">add</i>
          </button>

          <div class="right-icons">
            <button class="icon-button" title="Nagraj wiadomość">
              <i class="material-icons">mic</i>
            </button>
            <button class="icon-button" title="Wyślij" (click)="sendMessage()">
              <i class="material-icons">send</i>
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
